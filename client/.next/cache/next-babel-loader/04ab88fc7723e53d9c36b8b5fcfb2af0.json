{"ast":null,"code":"\"use strict\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _router = _interopRequireDefault(require(\"next/router\"));\n\nvar _onDemandEntriesUtils = require(\"./on-demand-entries-utils\");\n\nvar _default = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(function* (_ref) {\n    var {\n      assetPrefix\n    } = _ref;\n\n    _router.default.ready(() => {\n      _router.default.events.on('routeChangeComplete', _onDemandEntriesUtils.setupPing.bind(void 0, assetPrefix, () => _router.default.pathname));\n    });\n\n    (0, _onDemandEntriesUtils.setupPing)(assetPrefix, () => _router.default.pathname, _onDemandEntriesUtils.currentPage); // prevent HMR connection from being closed when running tests\n\n    if (!process.env.__NEXT_TEST_MODE) {\n      document.addEventListener('visibilitychange', event => {\n        var state = document.visibilityState;\n\n        if (state === 'visible') {\n          (0, _onDemandEntriesUtils.setupPing)(assetPrefix, () => _router.default.pathname, true);\n        } else {\n          (0, _onDemandEntriesUtils.closePing)();\n        }\n      });\n      window.addEventListener('beforeunload', () => {\n        (0, _onDemandEntriesUtils.closePing)();\n      });\n    }\n  });\n\n  return function _default(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/gonzalo/dev/teach/ta_regi_fe/node_modules/next/dist/client/dev/on-demand-entries-client.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_router","_onDemandEntriesUtils","_default","_ref","assetPrefix","ready","events","on","setupPing","bind","pathname","currentPage","process","env","__NEXT_TEST_MODE","document","addEventListener","event","state","visibilityState","closePing","window"],"mappings":"AAAA;;;;;;AAAa,IAAIA,sBAAsB,GAACC,OAAO,CAAC,8CAAD,CAAlC;;AAAmFC,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,OAAR,GAAgB,KAAK,CAArB;;AAAuB,IAAIC,OAAO,GAACL,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAlC;;AAA2D,IAAIK,qBAAqB,GAACL,OAAO,CAAC,2BAAD,CAAjC;;AAA+D,IAAIM,QAAQ;AAAA,gCAAC,WAAMC,IAAN,EAAa;AAAC,QAAG;AAACC,MAAAA;AAAD,QAAcD,IAAjB;;AAAsBH,IAAAA,OAAO,CAACD,OAAR,CAAgBM,KAAhB,CAAsB,MAAI;AAACL,MAAAA,OAAO,CAACD,OAAR,CAAgBO,MAAhB,CAAuBC,EAAvB,CAA0B,qBAA1B,EAAgDN,qBAAqB,CAACO,SAAtB,CAAgCC,IAAhC,CAAqC,KAAK,CAA1C,EAA4CL,WAA5C,EAAwD,MAAIJ,OAAO,CAACD,OAAR,CAAgBW,QAA5E,CAAhD;AAAwI,KAAnK;;AAAqK,KAAC,GAAET,qBAAqB,CAACO,SAAzB,EAAoCJ,WAApC,EAAgD,MAAIJ,OAAO,CAACD,OAAR,CAAgBW,QAApE,EAA6ET,qBAAqB,CAACU,WAAnG,EAA5L,CAA4S;;AAC/kB,QAAG,CAACC,OAAO,CAACC,GAAR,CAAYC,gBAAhB,EAAiC;AAACC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA6CC,KAAK,IAAE;AAAC,YAAIC,KAAK,GAACH,QAAQ,CAACI,eAAnB;;AAAmC,YAAGD,KAAK,KAAG,SAAX,EAAqB;AAAC,WAAC,GAAEjB,qBAAqB,CAACO,SAAzB,EAAoCJ,WAApC,EAAgD,MAAIJ,OAAO,CAACD,OAAR,CAAgBW,QAApE,EAA6E,IAA7E;AAAoF,SAA1G,MAA8G;AAAC,WAAC,GAAET,qBAAqB,CAACmB,SAAzB;AAAuC;AAAC,OAA/O;AAAiPC,MAAAA,MAAM,CAACL,gBAAP,CAAwB,cAAxB,EAAuC,MAAI;AAAC,SAAC,GAAEf,qBAAqB,CAACmB,SAAzB;AAAuC,OAAnF;AAAsF;AAAC,GADrF;;AAAA,kBAARlB,QAAQ;AAAA;AAAA;AAAA,GAAZ;;AACkGL,OAAO,CAACE,OAAR,GAAgBG,QAAhB","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _router=_interopRequireDefault(require(\"next/router\"));var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");var _default=async(_ref)=>{var{assetPrefix}=_ref;_router.default.ready(()=>{_router.default.events.on('routeChangeComplete',_onDemandEntriesUtils.setupPing.bind(void 0,assetPrefix,()=>_router.default.pathname));});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,_onDemandEntriesUtils.currentPage);// prevent HMR connection from being closed when running tests\nif(!process.env.__NEXT_TEST_MODE){document.addEventListener('visibilitychange',event=>{var state=document.visibilityState;if(state==='visible'){(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,true);}else{(0,_onDemandEntriesUtils.closePing)();}});window.addEventListener('beforeunload',()=>{(0,_onDemandEntriesUtils.closePing)();});}};exports.default=_default;"]},"metadata":{},"sourceType":"script"}